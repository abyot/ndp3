<div class="menu-title">
    <h4>{{'menu' | translate}}</h4>
</div>

<div class="vertical-spacing category-menu">
    <div data-stop-propagation="true">
        <script type="text/ng-template" id="treeMenu.html">
            <span class="tree-menu-button"
                    ng-if="!menuItem.root"
                    ng-click="menuItem.show = !menuItem.show"
                    ng-show="menuItem.id !== 'SPACE' && menuItem.show && menuItem.children.length > 0">
                <i class="fa fa-minus-square-o"></i>
            </span>
            <span class="tree-menu-button"
                    ng-if="!menuItem.root"
                    ng-click="menuItem.show = !menuItem.show"
                    ng-show="menuItem.id !== 'SPACE' && (!menuItem.show && menuItem.children.length > 0) || (!menuItem.show && menuItem.hasChildren)">
                <i class="fa fa-plus-square-o"></i>
            </span>
            <span href class="tree-menu-button"
                    ng-if="!menuItem.root && menuItem.children.length > 0"
                    ng-class="{'selected-menu' : menuItem.id === model.selectedMenu.id}"
                    ng-show="menuItem.id !== 'SPACE'">
                {{menuItem.displayName}}
            </span>
            <span href class="tree-menu-button"
                    ng-if="!menuItem.root && (menuItem.children.length === 0 || !menuItem.children)"
                    ng-click="setSelectedMenu(menuItem)"
                    ng-class="{'selected-menu' : menuItem.id === model.selectedMenu.id}"
                    ng-show="menuItem.id !== 'SPACE'">
                <a href ng-class="{'selected-menu' : menuItem.id === model.selectedMenu.id}">{{menuItem.displayName}}</a>
            </span>
            <span ng-show="menuItem.id === 'SPACE'" class="vertical-center">
                &nbsp;
            </span>
            <ul class="tree" id="tree" ng-show="menuItem.show">
                <li ng-class="getTreeMenuStyle(menuItem)" ng-repeat="menuItem in menuItem.children | orderBy:'order'" ng-include="'treeMenu.html'"></li>
            </ul>
        </script>
        <ul class="tree" id="tree">
            <li ng-class="getTreeMenuStyle(menuItem)" ng-repeat="menuItem in model.menuItems | orderBy:'order'" ng-include="'treeMenu.html'"></li>
        </ul>
    </div>

    <br><br>
</div>
